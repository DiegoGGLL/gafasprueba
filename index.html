<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Pelota Botando con Sombra Dinámica</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene shadow="type: pcfsoft" background="color: #ECECEC">

      <!-- Cámara -->
      <a-entity camera position="0 3 8" look-controls></a-entity>

      <!-- Luz encima de la pelota -->
      <a-entity 
        light="type: directional; intensity: 0.9; castShadow: true" 
        position="0 5 0" 
        rotation="-90 0 0">
      </a-entity>

      <!-- Suelo con degradado -->
      <a-plane 
        position="0 0 0" 
        rotation="-90 0 0" 
        width="10" 
        height="10"
        material="shader: flat; src: #gradientTexture"
        receive-shadow="true">
      </a-plane>

      <!-- Pelota -->
      <a-sphere 
        id="ball"
        position="0 1 0" 
        radius="0.3" 
        color="orange"
        shadow="cast: true">
        <a-animation 
          attribute="position" 
          direction="alternate" 
          dur="800" 
          repeat="indefinite" 
          to="0 3 0" 
          easing="ease-in-out">
        </a-animation>
      </a-sphere>

      <!-- Sombra (círculo negro que se escala según el bote) -->
      <a-circle 
        id="shadow"
        position="0 0.01 0" 
        rotation="-90 0 0" 
        radius="0.4" 
        color="black" 
        opacity="0.3"
        material="shader: flat">
        <a-animation 
          attribute="scale" 
          direction="alternate" 
          dur="800" 
          repeat="indefinite" 
          to="1.5 1.5 1" 
          easing="ease-in-out">
        </a-animation>
      </a-circle>

      <!-- Textura del degradado -->
      <a-assets>
        <img id="gradientTexture" src="data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='512' height='512'>
            <defs>
              <linearGradient id='grad' x1='0%' y1='0%' x2='0%' y2='100%'>
                <stop offset='0%' style='stop-color: #4facfe; stop-opacity:1' />
                <stop offset='100%' style='stop-color: #00f2fe; stop-opacity:1' />
              </linearGradient>
            </defs>
            <rect width='100%' height='100%' fill='url(#grad)' />
          </svg>"/>
      </a-assets>

    </a-scene>
  </body>
</html>
